import "std";

fun mul(int a, int b) > int {
    return a * b;
}

fun tail(int a, int b) > int {
    return mul(a, b);
}

test "simple tail call" {
    assert(tail(a: 5, b: 2) == 10);
}

fun recursive(int limit, int current) > int {
    if (current > limit) {
        return current;
    }

    return recursive(limit, current: current + 1);
}

test "recursive tail call" {
    assert(recursive(limit: 5, current: 0) == 6);
}